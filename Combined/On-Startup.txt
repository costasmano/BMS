If (False)Mods_2004_CM03 Mods_2004_CM06 Mods_2005_CM03 Mods_2005_CM12   ` Modified by: costasmanousakis-(Designer)-(12/13/2005 15:58:04)Mods_2005_CM20   ` Modified by: costasmanousakis-(Designer)-(4/21/09 20:11:32)Mods_2009_04   `Place WildCard around "MHD BMS External" for new .4Dx extensions Mods_2009_10   `v451 r001 CJ Miller`10/22/09, 11:50:43   `Add check to make sure triggers run only on inside data baseMods_2013_10   `r001 ` ` Set up for maximo updates  `Modified by: Charles Miller (10/8/13 15:27:27)  ` Modified by: Costas Manousakis-(Designer)-(11/1/13 07:48:34)Mods_2013_11   `  `Move the trace if designer here from the Startup methodEnd if If (User in group(Current user;"Design Access Group"))TRACE¬ut_SetTimeOuts ARRAY LONGINT(◊NextNumberArray_al;100)C_LONGINT($Loop_l)For ($Loop_l;1;100)◊NextNumberArray_al{$Loop_l}:=-9End for C_TEXT(◊DatabaseStructureName_txt)C_BOOLEAN($LogInEnabled_b)$LogInEnabled_b:=TrueC_TEXT(◊DatabaseStructureName_txt)If (Application type=4D Remote Mode )$LogInEnabled_b:=CA_fAllowLogins End if If ($LogInEnabled_b)  `users can log inut_CheckSQLVariables If (Not(Is compiled mode))ARRAY TEXT($Components_atxt;0)COMPONENT LIST($Components_atxt)If (Find in array($Components_atxt;"4DPop")>0)EXECUTE METHOD("4DPop_Palette")End if End if C_STRING(255;$StructFile;$DataFile)C_INTEGER($appType)C_BOOLEAN($compiledapp)C_TEXT($msg)  `TRACE$appType:=Application type$compiledapp:=Is compiled mode$StructFile:=Structure file$DataFile:=Data file  `check for locked data file only if not running clientStartup_PL If ($AppType#4D Remote Mode )SET CURSOR(4)SHORT_MESSAGE ("Checking Locked Status of Data File...")If (bDataFileLocked )SET CURSOR(0)CLOSE WINDOW$msg:="Data file "+$DataFile+" is in use by another application, possibly 4D Server."+Char(13)$msg:=$msg+"  Application exiting..."ALERT($msg)QUIT 4DEnd if CLOSE WINDOWSET CURSOR(0)Else   `Register client for 4D Client connectionsUNREGISTER CLIENT  `Make sure we are not registeredREGISTER CLIENT(Current user;5)  `register by usernameEnd if   `if structure file contains the word test then this is a test versionIf ($StructFile="@test@")If ((Current user="Designer") | (Current user="Administrator"))  `This message is just for designer or administrator    $msg:="App : "+String($appType)+Char(13)$msg:=$msg+"S : "+$StructFile+Char(13)$msg:=$msg+"D : "+$DataFile+Char(13)$msg:=$msg+"C : "+f_Boolean2String ($compiledapp;"YN")ALERT($msg)End if $msg:="This is a Test version of the MHD BMS database!!!"+Char(13)$msg:=$msg+"It is meant for testing purposes only!!!!"+Char(13)$msg:=$msg+"If you do not want to take part of the test , you should quit!!!!"CONFIRM(Uppercase($msg);"Quit";"Continue Test")If (Ok=1)QUIT 4DEnd if End if maximo_SetUpMaximoUpdate Startup If (($appType=4D Remote Mode ) & ($StructFile="@MHD BMS External@") & (Current user="BMSEXternal Server"))Launch_CtrlClientProc End if Else QUIT 4DEnd if 