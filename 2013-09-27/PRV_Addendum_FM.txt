  ` Method: PRV_Addendum_FM  ` Description  `   `   ` Parameters  ` $1 : $FormEvent_L  ` ----------------------------------------------------If (False)  ` User name (OS): Costas Manousakis  ` User name (4D): Designer  ` Date and time: 06/14/12, 14:07:40  ` ----------------------------------------------------  ` First ReleaseMods_2012_06   ` Modified by: Costas Manousakis-(Designer)-(9/25/13 15:02:54)Mods_2013_09   `  `Copied to DEVEnd if C_LONGINT($FormEvent_L)If (Count parameters>0)C_LONGINT($1)$FormEvent_L:=$1Else $FormEvent_L:=Form eventEnd if Case of : ($FormEvent_L=On Close Detail ): ($FormEvent_L=On Load )If (Is new record([Addendum_Maintenance]))Inc_Sequence ("AddendumMaint";->[Addendum_Maintenance]AddendumID)C_LONGINT(PRV_LASTSEQNO_L;PRV_CURRASSIGNID_L)PRV_CURRASSIGNID_L:=[Contract_Assignment_Maintenance]AssignIDBegin SQLselect max(Addendum_Maintenance.AddendumNo)from Addendum_Maintenancewhere Addendum_Maintenance.AssignID = :PRV_CURRASSIGNID_Linto :PRV_LASTSEQNO_LEnd SQL[Addendum_Maintenance]AddendumNo:=PRV_LASTSEQNO_L+1[Addendum_Maintenance]DateCreated:=Current date(*)[Addendum_Maintenance]ContractNo:=[Contract_Assignment_Maintenance]ContractNo[Addendum_Maintenance]Overhead:=[Contract_Assignment_Maintenance]Overhead[Addendum_Maintenance]Fee:=[Contract_Assignment_Maintenance]Fee[Addendum_Maintenance]AssignNo:=[Contract_Assignment_Maintenance]AssignNo[Addendum_Maintenance]AssignID:=[Contract_Assignment_Maintenance]AssignIDEnd if If (PRV_LockedAssignment_b)SET ENTERABLE(*;"DE@";False)SET VISIBLE(*;"DE@Btn";False)End if : ($FormEvent_L=On Validate ): ($FormEvent_L=On Unload )End case   `End PRV_Addendum_FM